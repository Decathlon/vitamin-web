<div class="block">
  <div
    class="vtmn-progressbar_container vtmn-progressbar_size--small"
    role="progressbar"
    aria-label="progress bar"
    aria-valuemin="0"
    aria-valuemax="100"
    aria-valuenow="60"
  >
    <span class="vtmn-progressbar_label" data-value="60">Loading</span>
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="60%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    class="vtmn-progressbar_container vtmn-progressbar_size--small"
    role="progressbar"
    aria-label="progress bar"
    aria-valuemin="0"
    aria-valuemax="100"
    aria-valuenow="40"
  >
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="40%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    class="
      vtmn-progressbar_container
      vtmn-progressbar_size--small
      vtmn-progressbar--indeterminate
    "
    role="progressbar"
    aria-label="progress bar loading"
  >
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="100%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    class="vtmn-progressbar_container vtmn-progressbar_size--medium"
    role="progressbar"
    aria-label="progress bar"
    aria-valuemin="0"
    aria-valuemax="100"
    aria-valuenow="25"
  >
    <span class="vtmn-progressbar_label" data-value="25">Loading</span>
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="25%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    class="vtmn-progressbar_container vtmn-progressbar_size--medium"
    role="progressbar"
    aria-label="progress bar"
    aria-valuemin="0"
    aria-valuemax="100"
    aria-valuenow="90"
  >
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="90%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    class="
      vtmn-progressbar_container
      vtmn-progressbar_size--medium
      vtmn-progressbar--indeterminate
    "
    role="progressbar"
    aria-label="progress bar loading"
  >
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="100%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    class="vtmn-progressbar_container vtmn-progressbar_size--large"
    role="progressbar"
    aria-label="progress bar"
    aria-valuemin="0"
    aria-valuemax="100"
    aria-valuenow="35"
  >
    <span class="vtmn-progressbar_label" data-value="35">Loading</span>
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="35%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    class="vtmn-progressbar_container vtmn-progressbar_size--large"
    role="progressbar"
    aria-label="progress bar"
    aria-valuemin="0"
    aria-valuemax="100"
    aria-valuenow="65"
  >
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="65%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    class="
      vtmn-progressbar_container
      vtmn-progressbar_size--large
      vtmn-progressbar--indeterminate
    "
    role="progressbar"
    aria-label="progress bar loading"
  >
    <svg>
      <line
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="100%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<div class="block">
  <div
    id="vtmn-progressbar-container-1"
    class="vtmn-progressbar_container"
    role="progressbar"
    aria-label="progress bar"
    aria-valuemin="0"
    aria-valuemax="100"
    aria-valuenow="0"
  >
    <span
      id="vtmn-progressbar-label-1"
      class="vtmn-progressbar_label"
      data-value="0"
      >Loading</span
    >
    <svg>
      <line
        id="vtmn-progressbar-1"
        class="vtmn-progressbar_indicator"
        x1="0"
        x2="100%"
        y1="50%"
        y2="50%"
      />
    </svg>
  </div>
</div>

<script type="text/javascript">
  (function () {
    let container = document.getElementById(`vtmn-progressbar-container-1`);
    let label = document.getElementById(`vtmn-progressbar-label-1`);
    let progress = document.getElementById(`vtmn-progressbar-1`);

    let type = 'linear';

    resetProgressLinear(container, progress, label, type);
    launchProgressLinear(container, progress, label, type);

    function launchProgressLinear(container, progress, label, type) {
      setInterval(() => {
        let random = getRandom(1, 15);
        let currentLabelValue = Number(label.getAttribute('data-value'));
        let newValue = Number(currentLabelValue + random);
        if (newValue >= 100) {
          newValue = 100;
          addProgressLinear(container, progress, label, type, newValue);
          setTimeout(() => {
            resetProgressLinear(container, progress, label, type);
          }, 2000);
        } else {
          addProgressLinear(container, progress, label, type, newValue);
        }
      }, 1000);
    }

    function getRandom(min, max) {
      return Math.ceil(Math.random() * (max - min) + min);
    }

    function addProgressLinear(container, progress, label, type, value) {
      label.setAttribute('data-value', `${value}`);
      container.setAttribute('aria-valuenow', `${value}`);
      progress.style.transform = `translateX(calc(-100% + ${value}%))`;
    }

    function resetProgressLinear(container, progress, label, type) {
      label.setAttribute('data-value', '0');
      container.setAttribute('aria-valuenow', '0');
      progress.style.transform = `translateX(-105%)`;
    }
  })();
</script>
