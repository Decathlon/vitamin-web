<div class="block">
  <div class="vtmn-progressbar_container">
    <span
      id="vtmn-progressbar-label-1"
      class="vtmn-progressbar_label"
      data-value="0"
      >Loading</span
    >
    <div class="vtmn-progressbar">
      <div
        id="vtmn-progressbar-1"
        class="vtmn-progressbar_fill"
        role="progressbar"
        aria-valuenow="0"
        aria-valuemin="0"
        aria-valuemax="100"
      ></div>
    </div>
  </div>
</div>

<script type="text/javascript">
  (function () {
    let progressbarLabel = document.getElementById('vtmn-progressbar-label-1');
    let currentLabelValue = progressbarLabel.getAttribute('data-value');
    let progressbar = document.getElementById('vtmn-progressbar-1');
    progressbar.style.width = '0%';

    setInterval(() => {
      let random = Math.ceil(Math.random() * (15 - 1) + 1);

      if (Number(currentLabelValue + random) >= 100) {
        progressbarLabel.setAttribute('data-value', '0');
      }

      currentLabelValue = Number(progressbarLabel.getAttribute('data-value'));
      let newValue = Number(currentLabelValue + random);
      progressbarLabel.setAttribute('data-value', String(newValue));
      progressbar.style.width = `${newValue}%`;
    }, 1000);

    //function toggleIndeterminate() {}
  })();
</script>
