<div class="block">
  <nav id="demo-tabs-nav" aria-label="Tabs list" class="vtmn-tabs">
    <ul id="demo-tabs-tablist" role="tablist">
      <li id="tab-demo-1" role="tab" aria-selected="false">
        <a href="">Tab Name</a>
      </li>
      <li id="tab-demo-2" role="tab" aria-selected="false">
        <a href="">Tab Name</a>
      </li>
      <li id="tab-demo-3" role="tab" aria-selected="false">
        <a href="">Tab Name</a>
      </li>
      <li id="tab-demo-4" role="tab" aria-selected="false">
        <a href="">Tab Name</a>
      </li>
    </ul>
    <div class="vtmn-divider" role="separator"></div>
  </nav>
</div>

<script>
  let listTabs = document.querySelectorAll('#demo-tabs-tablist li > a');
  let nav = document.getElementById('demo-tabs-nav');

  listTabs.forEach((child, index, parent) => {
    child.addEventListener('keydown', (e) => {
      switch (e.key) {
        case 'ArrowLeft':
          if (index <= 0) {
            listTabs[listTabs.length - 1].focus();
          } else {
            listTabs[index - 1].focus();
          }
          break;
        case 'ArrowRight':
          if (index >= listTabs.length - 1) {
            listTabs[0].focus();
          } else {
            listTabs[index + 1].focus();
          }
          break;
        case 'Home':
          listTabs[0].focus();
          break;
        case 'End':
          listTabs[listTabs.length - 1].focus();
          break;
        case 'Tab':
          e.preventDefault();
          if (e.shiftKey) {
            console.log('shift');
            listTabs[0].focus();
            listTabs[0].blur();
          } else {
            console.log('no shift');
            listTabs[listTabs.length - 1].focus();
            listTabs[listTabs.length - 1].blur();
          }
          break;
        default:
          break;
      }
    });

    child.addEventListener('focus', () => {
      child.classList.add('selected');
      child.setAttribute('aria-selected', 'true');
    });

    child.addEventListener('blur', () => {
      child.classList.remove('selected');
      child.setAttribute('aria-selected', 'false');
    });
  });
</script>
