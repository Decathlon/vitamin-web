<div class="block">
  <button id="btn-alert-1" class="vtmn-btn vtmn-btn_variant--ghost">
    Alert with title
  </button>
</div>
<div class="block">
  <button id="btn-alert-2" class="vtmn-btn vtmn-btn_variant--ghost">
    Alert with title and close button
  </button>
</div>
<div class="block">
  <button id="btn-alert-3" class="vtmn-btn vtmn-btn_variant--ghost">
    Alert with title and text
  </button>
</div>
<div class="block">
  <button id="btn-alert-4" class="vtmn-btn vtmn-btn_variant--ghost">
    Alert with title, text and close button
  </button>
</div>

<script type="text/javascript">
  function sleep(ms) {
    return new Promise((resolve) => setTimeout(resolve, ms));
  }
  var counter = 0;
  var alertStack = [];
  var alertID;
  var currentAlert;
  function showAlert(alertType) {
    //Create the block div container
    var newDiv = document.createElement('div');
    newDiv.classList.add('block');
    document.body.appendChild(newDiv);

    if (alertType === 'vtmn-alert-1') {
      alertID = '1-' + counter;
      counter++;
      document.body.lastChild.innerHTML =
        '<div id="vtmn-alert-' +
        alertID +
        '" class="vtmn-alert vtmn-alert_icon-danger"><div class="vtmn-alert_content"><div class="vtmn-alert_content-title">This is the title of the alert</div></div></div>';
      currentAlert = document.getElementById('vtmn-alert-' + alertID);
    } else if (alertType === 'vtmn-alert-2') {
      alertID = '2-' + counter;
      counter++;
      document.body.lastChild.innerHTML =
        '<div id="vtmn-alert-' +
        alertID +
        '" class="vtmn-alert vtmn-alert_icon-success"><div class="vtmn-alert_content"><div class="vtmn-alert_content-title">This is the title of the alert<span id="btn-close-alert-' +
        alertID +
        '" class="vtmx-close-line"></span></div></div></div>';
      currentAlert = document.getElementById('vtmn-alert-' + alertID);
      document
        .getElementById('btn-close-alert-' + alertID)
        .addEventListener('click', function () {
          currentAlert.remove();
        });
    } else if (alertType === 'vtmn-alert-3') {
      alertID = '3-' + counter;
      counter++;
      document.body.lastChild.innerHTML =
        '<div id="vtmn-alert-' +
        alertID +
        '" class="vtmn-alert vtmn-alert_icon-warning"><div class="vtmn-alert_content"><div class="vtmn-alert_content-title">This is the title of the alert</div><span class="vtmn-alert_content-text">Alert are used to draw the users attention to an important information</span></div></div>';
      currentAlert = document.getElementById('vtmn-alert-' + alertID);
    } else if (alertType === 'vtmn-alert-4') {
      alertID = '4-' + counter;
      counter++;
      document.body.lastChild.innerHTML =
        '<div id="vtmn-alert-' +
        alertID +
        '" class="vtmn-alert vtmn-alert_icon-info"><div class="vtmn-alert_content"><div class="vtmn-alert_content-title">This is the title of the alert<span id="btn-close-alert-' +
        alertID +
        '" class="vtmx-close-line"></span></div><span class="vtmn-alert_content-text">Alert are used to draw the users attention to an important information</span></div></div>';
      currentAlert = document.getElementById('vtmn-alert-' + alertID);
      document
        .getElementById('btn-close-alert-' + alertID)
        .addEventListener('click', function () {
          currentAlert.remove();
        });
    }

    addShowClass(currentAlert);
  }

  async function addShowClass(alert) {
    alertStack.push(alert);
    console.log('stack', alertStack);
    for (alert of alertStack) {
      alert.classList.add('show');
      await sleep(8000);
      alertStack.shift();
      alert.remove();
    }
  }

  document.getElementById('btn-alert-1').addEventListener('click', function () {
    showAlert('vtmn-alert-1');
  });

  document.getElementById('btn-alert-2').addEventListener('click', function () {
    showAlert('vtmn-alert-2');
  });

  document.getElementById('btn-alert-3').addEventListener('click', function () {
    showAlert('vtmn-alert-3');
  });

  document.getElementById('btn-alert-4').addEventListener('click', function () {
    showAlert('vtmn-alert-4');
  });
</script>
